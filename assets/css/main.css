/* ==========================================================================
   Multiverse (cleaned) – modern, lightweight, accessible
   - No @import (use <link> in HTML)
   - Unified typography on rem
   - Reduced-motion support
   - Removed legacy vendor prefixes & duplicates
   - Publications list spacing (no dividers)
   ========================================================================== */

/* ---- Reset / Normalize ---- */
html, body, div, span, applet, object,
iframe, h1, h2, h3, h4, h5, h6, p, blockquote,
pre, a, abbr, acronym, address, big, cite,
code, del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var, b,
u, i, center, dl, dt, dd, ol, ul, li, fieldset,
form, label, legend, table, caption, tbody,
tfoot, thead, tr, th, td, article, aside,
canvas, details, embed, figure, figcaption,
footer, header, hgroup, menu, nav, output, ruby,
section, summary, time, mark, audio, video {
  margin: 0; padding: 0; border: 0;
  font-size: 100%; font: inherit; vertical-align: baseline;
}
article, aside, details, figcaption, figure,
footer, header, hgroup, menu, nav, section { display: block; }
body { line-height: 1; -webkit-text-size-adjust: none; }
ol, ul { list-style: none; }
blockquote, q { quotes: none; }
blockquote:before, blockquote:after, q:before, q:after { content: ''; }
table { border-collapse: collapse; border-spacing: 0; }
mark { background-color: transparent; color: inherit; }
input::-moz-focus-inner { border: 0; padding: 0; }
input, select, textarea { appearance: none; }

html { box-sizing: border-box; }
*, *::before, *::after { box-sizing: inherit; }

/* ---- Colors (theme tokens) ---- */
:root{
  --bg: #242629;
  --panel: #1f2224;
  --fg: #a0a0a1;
  --fg-strong: #fff;
  --muted: #505051;
  --line: #36383c;
  --brand: #34a58e;
  --brand-2: #47c5ab;
}

/* ---- Viewport guard for tiny widths ---- */
@media (max-width: 480px){
  html, body{ min-width: 320px; }
}

/* ---- Accessibility: respect reduced motion ---- */
@media (prefers-reduced-motion: reduce){
  *{ animation: none !important; transition: none !important; }
}

/* ---- Base / Typography ---- */
html{ font-size: 100%; }                 /* 16px */
@media (min-width:1200px){ html{ font-size:106.25%; } } /* ~17px */
@media (min-width:1600px){ html{ font-size:112.5%; } }  /* 18px */

body{
  background: var(--bg);
  color: var(--fg);
  font-family: "Source Sans Pro", Helvetica, sans-serif;
  font-weight: 300;
  letter-spacing: .025em;
  line-height: 1.65;
  padding: 0 0 4rem 0;
}

/* form controls inherit typography scale */
body, input, select, textarea{ font-size: 1rem; }

/* Links */
a{
  color: var(--brand);
  text-decoration: underline;
  text-decoration-thickness: .08em;
  text-underline-offset: .15em;
  border-bottom: none;
}
a:hover{ color: var(--brand-2); }
a:focus-visible,
button:focus-visible,
.button:focus-visible{
  outline: 2px solid var(--brand);
  outline-offset: 2px;
}

/* Strong & headings */
strong, b{ color: var(--fg-strong); font-weight: 300; }
h1, h2, h3, h4, h5, h6{
  color: var(--fg-strong);
  font-weight: 300;
  letter-spacing: .1em;
  line-height: 1.5;
  margin: 0 0 1em 0;
  text-transform: uppercase;
}
h1{ font-size: 2rem; }
h2{ font-size: 1.25rem; }
h3{ font-size: 1.1rem; }
h4{ font-size: 1rem; }
h5{ font-size: .9rem; }
h6{ font-size: .7rem; }
@media (max-width:736px){
  h2{ font-size: 1rem; }
  h3{ font-size: .9rem; }
  h4{ font-size: .8rem; }
  h5, h6{ font-size: .7rem; }
}
h1 a, h2 a, h3 a, h4 a, h5 a, h6 a{ color: inherit; text-decoration: none; }

/* Text blocks */
p{ margin: 0 0 2em; }
em, i{ font-style: italic; }
sub{ font-size: .8em; position: relative; top: .5em; }
sup{ font-size: .8em; position: relative; top: -.5em; }
blockquote{
  border-left: 4px solid var(--line);
  font-style: italic; margin: 0 0 2em; padding: .5em 0 .5em 2em;
}
code{
  background: #34363b; border: 1px solid var(--line);
  font-family: "Courier New", monospace; font-size: .9em;
  margin: 0 .25em; padding: .25em .65em;
}
pre{ font-family: "Courier New", monospace; font-size: .9em; margin: 0 0 2em; }
pre code{ display: block; line-height: 1.75; padding: 1em 1.5em; overflow-x: auto; }

/* We use spacing (gap) instead of hr lines */
hr{ border: 0; height: 0; margin: 0; }

/* Alignment helpers */
.align-left{ text-align: left; }
.align-center{ text-align: center; }
.align-right{ text-align: right; }

/* ---- Buttons ---- */
input[type="submit"],
input[type="reset"],
input[type="button"],
button,
.button{
  appearance: none;
  transition: background-color .2s ease, box-shadow .2s ease, color .2s ease;
  background: transparent;
  border: 0;
  border-radius: 0;
  box-shadow: inset 0 0 0 2px var(--line);
  color: #fff !important;
  cursor: pointer;
  display: inline-block;
  font-size: .9em;
  font-weight: 300;
  height: 3.05556em;
  letter-spacing: .1em;
  line-height: 3.05556em;
  padding: 0 2.5em;
  text-align: center;
  text-decoration: none;
  text-transform: uppercase;
  white-space: nowrap;
}
button:hover,
.button:hover{ box-shadow: inset 0 0 0 2px var(--brand); color: var(--brand) !important; }
button:hover:active,
.button:hover:active{ background-color: rgba(52,165,142,.15); color: var(--brand) !important; }
.button.fit{ width: 100%; }
.button.small{ font-size: .8em; }
.button.large{ font-size: 1.35em; }
.button.primary{ background-color: var(--brand); box-shadow: none; }
.button.primary:hover{ background-color: var(--brand-2); color: #fff !important; }
.button.primary:hover:active{ background-color: #287e6d; }
.button:disabled,
button:disabled{ pointer-events: none; opacity: .35; }

/* ---- Forms ---- */
form{ margin: 0 0 2em; }
form > :last-child{ margin-bottom: 0; }

form > .fields{
  display: flex; flex-wrap: wrap;
  width: calc(100% + 3em);
  margin: -1.5em 0 2em -1.5em;
}
form > .fields > .field{
  flex: 0 0 auto;
  padding: 1.5em 0 0 1.5em;
  width: calc(100% - 1.5em);
}
form > .fields > .field.half{ width: calc(50% - .75em); }
form > .fields > .field.third{ width: calc(100%/3 - .5em); }
form > .fields > .field.quarter{ width: calc(25% - .375em); }

@media (max-width:736px){
  form > .fields{ width: calc(100% + 3em); margin: -1.5em 0 2em -1.5em; }
  form > .fields > .field{ width: calc(100% - 1.5em); }
  form > .fields > .field.half,
  form > .fields > .field.third,
  form > .fields > .field.quarter{ width: calc(100% - 1.5em); }
}

label{
  color: #fff; display: block; font-size: .9em; font-weight: 300; margin: 0 0 1em;
}
input[type="text"],
input[type="password"],
input[type="email"],
input[type="tel"],
input[type="search"],
input[type="url"],
select,
textarea{
  appearance: none;
  background: #34363b;
  border: 0; border-radius: 0;
  color: var(--fg);
  display: block;
  outline: 0;
  padding: 0 1em;
  text-decoration: none;
  width: 100%;
  height: 2.75em;
}
textarea{ padding: .75em 1em; height: auto; }
input:invalid, select:invalid, textarea:invalid{ box-shadow: none; }
input:focus, select:focus, textarea:focus{ box-shadow: inset 0 0 0 2px var(--brand); }

select{
  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Cpath d='M9.4,12.3l10.4,10.4l10.4-10.4c0.2-0.2,0.5-0.4,0.9-0.4c0.3,0,0.6,0.1,0.9,0.4l3.3,3.3c0.2,0.2,0.4,0.5,0.4,0.9 c0,0.4-0.1,0.6-0.4,0.9L20.7,31.9c-0.2,0.2-0.5,0.4-0.9,0.4c-0.3,0-0.6-0.1-0.9-0.4L4.3,17.3c-0.2-0.2-0.4-0.5-0.4-0.9 c0-0.4,0.1-0.6,0.4-0.9l3.3-3.3c0.2-0.2,0.5-0.4,0.9-0.4S9.1,12.1,9.4,12.3z' fill='%2336383c' /%3E%3C/svg%3E");
  background-size: 1.25rem; background-repeat: no-repeat;
  background-position: calc(100% - 1rem) center;
  padding-right: 2.75em; text-overflow: ellipsis;
}
select option{ color:#fff; background: var(--bg); }

input[type="checkbox"], input[type="radio"]{
  appearance: none; display: block; float: left; margin-right: -2em; opacity: 0; width: 1em; z-index: -1;
}
input[type="checkbox"] + label,
input[type="radio"] + label{
  color: var(--fg);
  cursor: pointer;
  display: inline-block;
  font-size: 1em;
  font-weight: 300;
  padding-left: 2.4em;
  padding-right: .75em;
  position: relative;
  text-decoration: none;
}
input[type="checkbox"] + label::before,
input[type="radio"] + label::before{
  content: '';
  background: #34363b;
  display: inline-block;
  font-size: .8em;
  height: 2.0625em;
  left: 0;
  line-height: 2.0625em;
  position: absolute;
  text-align: center;
  top: 0;
  width: 2.0625em;
}
input[type="radio"] + label::before{ border-radius: 100%; }
input[type="checkbox"]:checked + label::before,
input[type="radio"]:checked + label::before{
  background: var(--brand); color: #fff; content: '✓';
}
input[type="checkbox"]:focus + label::before,
input[type="radio"]:focus + label::before{ box-shadow: 0 0 0 2px var(--brand); }

::placeholder{ color: #707071; opacity: 1; }

/* ---- Icons helpers ---- */
.icon{ text-decoration: none; border-bottom: none; position: relative; }
.icon > .label{ display: none; }

/* ---- Lists ---- */
ol{ list-style: decimal; margin: 0 0 2em; padding-left: 1.25em; }
ol li{ padding-left: .25em; }
ul{ list-style: disc; margin: 0 0 2em; padding-left: 1em; }
ul li{ padding-left: .5em; }
ul.alt{ list-style: none; padding-left: 0; }
ul.alt li{ border-top: 1px solid var(--line); padding: .5em 0; }
ul.alt li:first-child{ border-top: 0; padding-top: 0; }

/* Actions */
ul.actions{
  display: flex; cursor: default; list-style: none;
  margin-left: -1em; padding-left: 0;
}
ul.actions li{ padding: 0 0 0 1em; vertical-align: middle; }
ul.actions.special{ justify-content: center; width: 100%; margin-left: 0; }
ul.actions.special li:first-child{ padding-left: 0; }
ul.actions.stacked{ flex-direction: column; margin-left: 0; }
ul.actions.stacked li{ padding: 1.3em 0 0 0; }
ul.actions.stacked li:first-child{ padding-top: 0; }
ul.actions.fit{ width: calc(100% + 1em); }
ul.actions.fit li{ flex: 1 1 100%; }
ul.actions.fit li > *{ width: 100%; }

@media (max-width:480px){
  ul.actions:not(.fixed){
    flex-direction: column; margin-left: 0; width: 100% !important;
  }
  ul.actions:not(.fixed) li{
    flex: 1 1 100%; padding: 1em 0 0; text-align: center; width: 100%;
  }
  ul.actions:not(.fixed) li:first-child{ padding-top: 0; }
  ul.actions:not(.fixed) li > *{ width: 100%; }
}

/* ---- Tables ---- */
.table-wrapper{ overflow-x: auto; -webkit-overflow-scrolling: touch; }
table{ width: 100%; margin: 0 0 2em; }
table tbody tr{ border: 1px solid var(--line); border-left: 0; border-right: 0; }
table tbody tr:nth-child(2n+1){ background: #34363b; }
table td{ padding: .75em; }
table th{
  color: #fff; font-size: .9em; font-weight: 300; padding: 0 .75em .75em; text-align: left;
}
table thead{ border-bottom: 2px solid var(--line); }
table tfoot{ border-top: 2px solid var(--line); }
table.alt{ border-collapse: separate; }
table.alt tbody tr td{ border: 1px solid var(--line); border-left-width: 0; border-top-width: 0; }
table.alt tbody tr td:first-child{ border-left-width: 1px; }
table.alt tbody tr:first-child td{ border-top-width: 1px; }
table.alt thead, table.alt tfoot{ border: 0; }

/* ---- Spinner keyframes (single modern version) ---- */
@keyframes spinner{
  from{ transform: rotate(0deg); }
  to  { transform: rotate(359deg); }
}

/* ---- Panel (modal slide-up) ---- */
.panel{
  padding: 4em;
  transform: translateY(100vh);
  transition: transform .5s ease;
  -webkit-overflow-scrolling: touch;
  background: rgba(36,38,41,.975);
  bottom: 4em; left: 0;
  max-height: calc(80vh - 4em);
  overflow-y: auto;
  position: fixed; width: 100%; z-index: 10001;
}
.panel.active{ transform: translateY(1px); }
.panel > .inner{ margin: 0 auto; max-width: 100%; width: 75em; }
.panel > .inner.split{ display: flex; }
.panel > .inner.split > div{ margin-left: 4em; width: 50%; }
.panel > .inner.split > :first-child{ margin-left: 0; }
.panel > .closer{
  transition: opacity .2s ease;
  background: center/3em no-repeat url("images/close.svg");
  cursor: pointer; height: 5em; opacity: .25;
  position: absolute; right: 0; top: 0; width: 5em; z-index: 2;
}
.panel > .closer:hover{ opacity: 1; }

@media (max-width:1280px){
  .panel{ padding: 3em 3em 1em; }
  .panel > .inner.split > div{ margin-left: 3em; }
  .panel > .closer{ background-size: 2.5em; background-position: 75% 25%; }
}
@media (max-width:980px){
  .panel > .inner.split{ flex-direction: column; }
  .panel > .inner.split > div{ margin-left: 0; width: 100%; }
}
@media (max-width:736px){
  .panel{
    transform: translateY(-100vh);
    padding: 4em 2em 2em;
    bottom: auto; top: calc(4em - 1px);
  }
  .panel.active{ transform: translateY(0); }
}

/* ---- Poptrox Popup ---- */
.poptrox-overlay{ -webkit-tap-highlight-color: rgba(255,255,255,0); }
.poptrox-popup{
  background: rgba(31,34,36,.925);
  box-shadow: 0 1em 3em .5em rgba(0,0,0,.25);
  cursor: default;
  position: relative;
}
.poptrox-popup::before{
  transition: opacity .2s ease;
  background:
    linear-gradient(to left, rgba(31,34,36,.35), rgba(31,34,36,0) 10em, rgba(31,34,36,0)),
    linear-gradient(to right, rgba(31,34,36,.35), rgba(31,34,36,0) 10em, rgba(31,34,36,0));
  content: ''; display: block; position: absolute; inset: 0; z-index: 1; opacity: 1;
}
.poptrox-popup .closer{
  transition: opacity .2s ease;
  background: center/3em no-repeat url("images/close.svg");
  height: 5em; opacity: 0; position: absolute; right: 0; top: 0; width: 5em; z-index: 2;
}
.poptrox-popup .nav-previous,
.poptrox-popup .nav-next{
  transition: opacity .2s ease;
  background: center/5em no-repeat url("images/arrow.svg");
  cursor: pointer; height: 8em; margin-top: -4em; opacity: 0;
  position: absolute; top: 50%; width: 6em; z-index: 2;
}
.poptrox-popup .nav-previous{ transform: scaleX(-1); left: 0; }
.poptrox-popup .nav-next{ right: 0; }

.poptrox-popup .caption{
  padding: 2em 2em .1em;
  background: linear-gradient(to top, rgba(16,16,16,.45) 25%, rgba(16,16,16,0) 100%);
  bottom: 0; left: 0; position: absolute; text-align: left; width: 100%; z-index: 2;
}
.poptrox-popup .caption h2, .poptrox-popup .caption h3, .poptrox-popup .caption h4,
.poptrox-popup .caption h5, .poptrox-popup .caption h6{ margin: 0 0 .5em; }
.poptrox-popup .caption p{ color: #fff; }

.poptrox-popup .loader{
  animation: spinner 1s linear infinite !important;
  background: center/contain no-repeat url("images/spinner.svg");
  display: block; font-size: 2em; height: 2em; left: 50%;
  line-height: 2em; margin: -1em 0 0 -1em; opacity: .25; position: absolute;
  text-align: center; top: 50%; width: 2em;
}

.poptrox-popup:hover .closer,
.poptrox-popup:hover .nav-previous,
.poptrox-popup:hover .nav-next{ opacity: .5; }
.poptrox-popup:hover .closer:hover,
.poptrox-popup:hover .nav-previous:hover,
.poptrox-popup:hover .nav-next:hover{ opacity: 1; }

.poptrox-popup.loading::before{ opacity: 0; }
body.touch .poptrox-popup .closer,
body.touch .poptrox-popup .nav-previous,
body.touch .poptrox-popup .nav-next{ opacity: 1 !important; }

@media (max-width:980px){
  .poptrox-popup .closer{ background-size: 3em; }
  .poptrox-popup .nav-previous,
  .poptrox-popup .nav-next{ background-size: 4em; }
}
@media (max-width:736px){
  .poptrox-popup::before{ display: none; }
  .poptrox-popup .caption{ display: none !important; }
  .poptrox-popup .closer,
  .poptrox-popup .nav-previous,
  .poptrox-popup .nav-next{ display: none !important; }
}

/* ---- Wrapper / global overlay & spinner ---- */
#wrapper{
  transition: filter .5s ease; position: relative;
}
#wrapper::after{
  pointer-events: none;
  transition: opacity .5s ease, visibility .5s;
  background: rgba(36,38,41,.5);
  content: ''; display: block; position: absolute; inset: 0; opacity: 0; visibility: hidden; z-index: 1;
}
body.ie #wrapper::after{ background: rgba(36,38,41,.8); }

body.modal-active #wrapper{ filter: blur(8px); }
body.modal-active #wrapper::after{ pointer-events: auto; opacity: 1; visibility: visible; z-index: 10003; }

#wrapper::before{
  animation: spinner 1s linear infinite !important;
  pointer-events: none;
  transition: top .75s ease-in-out, opacity .35s ease-out, visibility .35s;
  background: center/contain no-repeat url("images/spinner.svg");
  content: ''; display: block; font-size: 2em; height: 2em; left: 50%;
  line-height: 2em; margin: -1em 0 0 -1em; opacity: 0; position: fixed;
  text-align: center; top: 75%; visibility: hidden; width: 2em;
}
body.is-preload #wrapper::before{
  transition: opacity 1s ease-out !important;
  transition-delay: .5s !important;
  opacity: .25; top: 50%; visibility: visible;
}

/* ---- Header (fixed bottom on desktop / top on mobile) ---- */
body{ padding: 0 0 4em; }
#header{
  transform: translateY(0);
  transition: transform 1s ease;
  user-select: none;
  background: var(--panel);
  bottom: -1em; height: 5em; left: 0; line-height: 4em;
  padding: 0 1.5em; position: fixed; width: 100%; z-index: 10002;
}
body.is-preload #header{ transform: translateY(4em); }
#header h1{
  color: var(--fg); display: inline-block; font-size: 1em; line-height: 1; margin: 0; vertical-align: middle;
}
#header h1 a{ border: 0; color: inherit; }
#header nav{ position: absolute; right: 0; top: 0; }
#header nav > ul{ list-style: none; margin: 0; padding: 0; }
#header nav > ul > li{ display: inline-block; padding: 0; }
#header nav > ul > li a{
  transition: background-color .5s ease;
  border: 0; color: #fff; display: inline-block;
  letter-spacing: .1em; padding: 0 1.65em; text-transform: uppercase;
}
#header nav > ul > li a:hover{ color: #fff !important; }
#header nav > ul > li a.active{ background: var(--bg); }

@media (max-width:736px){
  body{ padding: 4em 0 0; }
  #header{
    transform: translateY(0);
    bottom: auto; height: 4em; padding: 0 1em; top: 0;
  }
  body.is-preload #header{ transform: translateY(-3.4em); }
  #header h1{ font-size: .9em; }
  #header nav > ul > li a{ font-size: .9em; padding: 0 1.15em; }
}

/* ---- Main (gallery grid & thumbs) ---- */
#main{
  transition: filter .5s ease;
  display: flex; flex-wrap: wrap;
  -webkit-tap-highlight-color: rgba(255,255,255,0);
}
#main .thumb{
  transition: opacity .9s ease-in-out;
  pointer-events: auto;
  -webkit-tap-highlight-color: rgba(255,255,255,0);
  opacity: 1;
  overflow: hidden;
  position: relative;
  /* size rules are kept by theme’s original media queries
     (percent widths / vh heights) */
}
#main .thumb::after{
  pointer-events: none;
  background: linear-gradient(to top, rgba(10,17,25,.35) 5%, rgba(10,17,25,0) 35%);
  background-size: cover;
  content: ''; display: block; position: absolute; inset: 0;
}
#main .thumb > .image{
  -webkit-tap-highlight-color: rgba(255,255,255,0);
  background-position: center; background-repeat: no-repeat; background-size: cover;
  border: 0; position: absolute; inset: 0;
}
#main .thumb > h2{
  pointer-events: none; position: absolute; z-index: 1;
  bottom: 1.875em; left: 2.1875em; font-size: .8em; margin: 0;
}
#main .thumb > p{ display: none; }

#main::after{
  pointer-events: none;
  transition: opacity .5s ease, visibility .5s;
  background: rgba(36,38,41,.25);
  content: ''; display: block; position: absolute; inset: 0;
  opacity: 0; visibility: hidden; z-index: 1;
}
body.ie #main::after{ background: rgba(36,38,41,.55); }
body.content-active #main{ filter: blur(6px); }
body.content-active #main::after{ pointer-events: auto; opacity: 1; visibility: visible; }
body.is-preload #main .thumb{ pointer-events: none; opacity: 0; }

/* kill stagger delays for faster first paint */
#main .thumb,
#main .thumb:nth-child(n){ transition-delay: 0s !important; }

/* Original theme responsive sizing for thumbs (kept) */
#main .thumb{ height: calc(40vh - 2em); min-height: 20em; width: 25%; }
@media (max-width:1680px){
  #main .thumb{ height: calc(40vh - 2em); min-height: 20em; width: 33.3333%; }
}
@media (max-width:1280px){
  #main .thumb{ height: calc(40vh - 2em); min-height: 20em; width: 50%; }
}
@media (max-width:980px){
  #main .thumb{ height: calc(28.57143vh - 1.33333em); min-height: 18em; width: 50%; }
}
@media (max-width:480px){
  #main .thumb{ height: calc(40vh - 2em); min-height: 18em; width: 100%; }
}

/* ---- Footer ---- */
#footer .copyright{ color: var(--muted); font-size: .9em; }
#footer .copyright a{ color: inherit; }

/* ---- Publications: list layout (no divider) ---- */
#pub-list.list{
  display: flex; flex-direction: column; gap: 24px;
}
#pub-list.list .pub-card{
  border-bottom: none; margin: 0; padding: 0;
}
#pub-list.list .media img{
  object-fit: contain; background: #f8f9fa;
}
/* Optional: big screens fill neatly */
@media (min-width:1100px){
  #pub-list.list .media img{ object-fit: cover; }
}
